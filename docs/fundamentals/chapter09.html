<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">Services | CKA Prep</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/cka-prep/docs/fundamentals/chapter09"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Services | CKA Prep"><meta data-react-helmet="true" name="description" content="Course Reading"><meta data-react-helmet="true" property="og:description" content="Course Reading"><link data-react-helmet="true" rel="icon" href="/cka-prep/img/k8s.png"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/cka-prep/docs/fundamentals/chapter09"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/cka-prep/docs/fundamentals/chapter09" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/cka-prep/docs/fundamentals/chapter09" hreflang="x-default"><link rel="stylesheet" href="/cka-prep/assets/css/styles.e68b4784.css">
<link rel="preload" href="/cka-prep/assets/js/runtime~main.ac12d81b.js" as="script">
<link rel="preload" href="/cka-prep/assets/js/main.d9dff869.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cka-prep/"><div class="navbar__logo"><img src="/cka-prep/img/kubernetes-icon.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/cka-prep/img/kubernetes-icon.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">CKA Prep</b></a><a class="navbar__item navbar__link navbar__link--active" href="/cka-prep/docs/intro">Notes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/andrewdaoust/cka-prep" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cka-prep/docs/intro">Kubernetes Resources</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_VCh3" aria-current="page" href="/cka-prep/docs/fundamentals">Kubernetes Fundamentals</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes Fundamentals&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter01">Course Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter02">Basics of Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter03">Installation and Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter04">Kubernetes Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter05">APIs and Access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter06">API Objects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter07">Managing State with Deployments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter08">Volumes and Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cka-prep/docs/fundamentals/chapter09">Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter10">Helm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter11">Ingress</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter12">Scheduling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter13">Logging and Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter14">Custom Resource Definitions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter15">Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter16">High Availability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/chapter17">Exam Domain Review</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cka-prep/docs/fundamentals/follow-up">Follow-up Items</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/cka-prep/docs/kubectl/setup">kubectl</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/cka-prep/docs/hard-way/about">Kubernetes the Hard Way</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/cka-prep/docs/linux">Linux</a><button aria-label="Toggle the collapsible sidebar category &#x27;Linux&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" href="/cka-prep/docs/misc">Miscellaneous Topics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Miscellaneous Topics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Services</h1></header><h2 id="course-reading">Course Reading</h2><h3 id="learning-objectives">Learning objectives</h3><ul><li>Explain a Kubernetes service</li><li>Expose an application</li><li>Discuss the types of services available</li><li>Start a local proxy</li><li>Use the cluster DNS</li></ul><h3 id="overview">Overview</h3><p>Services are the agents connection Pods together or to allow access from outside the cluster. Typically via labels, and refreshed Pods are connected by the service so there is no change in the expected resources at a given Endpoint.</p><p>There are multiple types of services, each exposed internally or externally. Services also can be used to connect third party external resources, like a database, for example.</p><p>The kube-proxy operator watched the kube-apiserver for new services and endpoints. Random ports are opened listened on for traffic to the <code>ClusterIP:Port</code> and traffic is redirected to the randomly generated endpoint for the service. Services provide automatic load balancing, match label queries. This cannot be configured but there is possibility for session affinity via IP.  A headless service (without a fixed IP or load balancing) can be configured.</p><p>The unique IP addresses are configured via etcd, so Services implement iptables to route their traffic. Other technologies could be leveraged to provide access to resources later.</p><h3 id="service-update-pattern">Service update pattern</h3><p>Labels on each Pod are used to determine what traffic should be received from a service. Labels can be dynamically updated on an object which can affect which Pods continue to connect to a service.</p><p>By default, the update pattern is to use a rolling deployment. New Pods are added with a new application version, and because of the automatic load balancing they will receive traffic along with the previous version of the application until the old version Pods are terminated.</p><p>If there would be an issue where routing traffic to a new and old version of an application during the update would cuase an issue, you may want to take the strategy where you use a more specific label for the new deployment, then turn down the old version, and update the labels to shift traffic to tie back to the original service.</p><h3 id="accessing-an-application-with-a-service">Accessing an application with a service</h3><p>The basic steps for setting up access to a new service is as follows:</p><pre><code class="language-bash">kubectl expose deployment/nginx --port=80 --type=NodePort
kubectl get svc
kubectl get svc nginx -o yaml
</code></pre><p>You could then hit the nginx server in your browser using the public IP and the port that was exposed with the service (you can find the public IP with a <code>kubectl get pods -o wide</code> or a <code>kubectl get endpoints</code>).</p><p>Now let&#x27;s discuss what we actually did to expose the service, step by step. First we used the <code>kubectl expose</code> command to actually create the service.  This service used port 80 and chose a random port to use on the nodes.  You can pass a <code>port</code> (which we did) and <code>targetPort</code>. We also specified the type of service with the <code>--type=NodePort</code> option.</p><p>Next we ran a <code>kubectl get svc</code> to list all the services and find the one we just created. We see it was created with an internal IP. The range of available cluster IPs and the range of ports that can be used are configurable in the API server startup options.</p><p>Finally we ran <code>kubectl get svc nginx -o yaml</code> to view the manifest for the service in YAML format.</p><h3 id="types-of-services">Types of services</h3><p>Behind the scenes, a service is an operator in the kube-controller-manager which sends API calls through the kube-apiserver to the network plugin and kube-proxy Pods running on the nodes. The service operator also creates endpoint operators to query the ephemeral IP addresses of Pods with a specific label. These operators work together to manage the firewall rules of the cluster via iptables or ipvs.</p><h4 id="clusterip">ClusterIP</h4><p>This is the default service used. It only provides access internally (except when manually creating an external endpoint). The range of ClusterIPs is defined in API server startup options.</p><p>The <code>kubectl proxy</code> creates a local service to access a ClusterIP, which is helpful in troubleshooting and development scenarios.</p><h4 id="nodeport">NodePort</h4><p>NodePorts are useful for debugging or when static IPs are necessary, like for opening a particular address access through a firewall.  The NodePort range is defined in the cluster configuration.</p><p>Some of these services build upon each other. A ClusterIP service configures a persistent IP and then directs traffic sent to that address to existing Pods ephemeral addresses, but only within the cluster.</p><p>When a NodePort service is created, first a ClusterIP is created first. Then a high numbered port is created and a firewall rule is sent out so that traffic to this new port on any node will be sent to the persistent IP, and then the Pods.</p><h4 id="loadbalancer">LoadBalancer</h4><p>The LoadBalancer service was created so requests could be passed through cloud providers.  Private clouds may also implement this service with a cloud provider plugin like CloudStack or OpenStack.  Even without cloud providers, the address is made available for public traffic and packets are spread among Pods in the deployment automatically.</p><p>LoadBalancers do not create load balancers. Instead, a NodePort is created and makes async requests to use a load balancer. If a listener sees the request, like would occur when using a cloud provider, one would then be created. If no listener sees the request then the status remains <em>pending</em> since no load balancer responds to the API call.</p><h4 id="externalname">ExternalName</h4><p>ExternalName is a newer service. It has no selectors, nor does it define ports or endpoints. It instead allows for an alias to be returned to an external service.  This redirect happens at the DNS level, not via proxy or forwarding. This type of service is useful for things not yet brought into the Kubernetes cluster. A simple future change will redirect traffic to the internal objects.</p><h4 id="ingress-controllers">Ingress controllers</h4><p>Ingress controllers are not services but instead a microservice running within a Pod. They listen on a high port on whichever node the pod is running on, and then sends traffic to service based on the requested URL. Ingress controllers are not built-in, but they are often used with services to centralize traffic. Ingress controllers will be discussed further later.</p><h3 id="services-diagram">Services diagram</h3><p>Controllers for services and endpoints run in the kube-controller-manager, and send API calls through the kube-apiserver. The kube-apiserver then talks to the network plugin to direct the agents on each node what to do. Each kube-proxy is also sent an API call to manage the firewall locally, which is typically iptables or ipvs. The kube-proxy mode is configured via a flag, <code>mode</code>, set on initialization. The mode can be <code>iptables</code>, <code>IPVS</code>, or <code>userspace</code>.</p><p>In <code>iptables</code> mode, the API continually sends updates to the kube-proxy about changes to Services and Endpoints so rules can be updated as the objects are created, modified, and deleted.</p><h3 id="overall-network-view">Overall network view</h3><p><img alt="overall network view" src="/cka-prep/assets/images/ch09-overall-network-view-7147d9c6448c79e019ee3a356c4c9f48.png" width="561" height="631"></p><h3 id="local-proxy-for-development">Local proxy for development</h3><p>When doing local development for an application, a quick way to check the service is to run a local proxy with <code>kubectl</code>. It captures the shell (unless places in the background). When running, calls can be made to the API via <code>localhost</code> and you can also reach the ClusterIP services via the API URLs.  The IP and port to listen on is configurable via command arguments.  To run a proxy:</p><pre><code class="language-bash">kubectl proxy
</code></pre><p>This starts a proxy on <code>localhost</code> and uses port <code>8001</code> by default.  Then to access a service, name <code>example</code>, we can use the URL <code>http://localhost8001/api/v1/namespaces/default/services/example</code>. If the service port has a name, you&#x27;d append <code>:&lt;port name&gt;</code> to the end of the URL.</p><h3 id="dns">DNS</h3><p>Since v1.13, CoreDNS has been the default DNS provided. CoreDNS allows for a large amount of flexibility. When a container starts, it runs a server for the zones it is configured to serve, then each server loads one or many plugin chains to provide additional functionality. Like other microservices, clients access it using a service, kube-dns.</p><p>The in=tree plugins provide most additional common functionality. It is a fairly easy process to write and enable other plugins for extended functionality.</p><p>Common plugins are used to provide metrics to Prometheus, for error logging, health checking of the application, among other things.</p><h3 id="verifying-dns-registration">Verifying DNS registration</h3><p>To verify DNS setup and check services are being registered, the easiest way is to run a pod with a shell and networking tools, create a service, and then exec in to do DNS lookups.</p><p>Troubleshooting DNS in the cluster uses typical tools like nslookup, dig, nc, wireshark, etc.  The difference though is we are leveraging a service to access the DNS server, so we need to check labels and selectors in addition to standard network debugging.</p><p>Other steps, like checking the Network Policies and firewalls can also be done. These will be covered more in a later chapter.</p><h2 id="lab-exercises">Lab Exercises</h2><h3 id="lab-91---deploy-a-new-service">Lab 9.1 - Deploy a new Service</h3><p>Services are Kubernetes objects which define policies to access logical sets of Pods. They are typically assigned <code>labels</code> so that there is persistent access, even when front or back end containers are terminated and replaced.</p><p>Native applications can use the <code>Endpoint</code> API for access but non-native apps can use a virtual IP-based bridge to access the Pods. These use a ServiceType which could be one of the following:</p><ul><li>ClusterIP - default and only exposes a cluster internal IP, so external access is prevented.</li><li>NodePort - exposes a node IP on a static port. A ClusterIP is created in the background.</li><li>LoadBalancer - exposes the service externally on the cloud provider&#x27;s load balancer. A <code>NodePort</code> and <code>ClusterIP</code> are automatically created.</li><li>ExternalName - uses a CNAME record to map the service to the contents of <code>externalRecord</code></li></ul><p>Services are used to decouple the objects from the traffic so that they can be replaced without any interruption of the client to the backend microservice.</p><p>To begin this lab we will first create a YAML manifest for a <code>nginx</code> deployment with 2 replicas.</p><pre><code class="language-bash">vim nginx-one.yaml
</code></pre><pre><code class="language-yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-one
  labels:
    system: secondary
  namespace: accounting
spec:
  selector:
    matchLabels:
      system: secondary
  replicas: 2
  template:
    metadata:
      labels:
        system: secondary
    spec:
      containers:
      - image: nginx:1.20.1
        imagePullPolicy: Always
        name: nginx
        ports:
        - containerPort: 8080
          protocol: TCP
      nodeSelector:
        system: secondOne
</code></pre><p>Before we create anything, first let&#x27;s look at the nodes and their labels.</p><pre><code class="language-bash">kubectl get nodes --show-labels
</code></pre><p>Now let&#x27;s get creating our deployment.  Notice we want to create the Deployment in the <code>accounting</code> namespace.  First we must create it, otherwise we will get an error. Then we can create the deployment.</p><pre><code class="language-bash">kubectl create ns accounting
kubectl create -f nginx-one.yaml\
kubectl -n accounting get pods
</code></pre><p>Now that the deployment is created, when you view the pods you should see that the <code>STATUS</code> is <code>Pending</code>. Now looks the the events when you <code>describe</code> one of the pods.</p><pre><code class="language-bash">kubectl -n accounting describe pod nginx-one-&lt;unique ID&gt;
</code></pre><p>You should see a <code>FailedScheduling</code> warning due to no node matching the node selector we specified in the manifest.</p><p>To fix this, let&#x27;s add the label onto one of the nodes, and then view the labels again.</p><pre><code class="language-bash">kubectl label node &lt;worker node name&gt; system=secondOne
kubectl get nodes --show-labels
</code></pre><p>You should now see a new label, <code>system</code>, on the worker node with a value of <code>secondOne</code>. Now if you check the Pods again, they should have been scheduled and be <code>Running</code>.</p><pre><code class="language-bash">kubectl -n accounting get pods
kubectl get pods -l system=secondary --all-namespaces
</code></pre><p>Now that the Pods are up and running, let&#x27;s expose the the deployment.</p><pre><code class="language-bash">kubectl -n accounting expose deployment nginx-one
kubectl -n accounting get ep nginx-one
</code></pre><p>You should see some endpoints have been created for the deployment, ending in the port <code>8080</code> we specified in the manifest. Try to <code>curl</code> one of the endpoints. And then try to curl the endpoint, but instead using port <code>80</code>.</p><pre><code class="language-bash">curl &lt;endpoint&gt;
curl &lt;IP&gt;:80
</code></pre><p>The first command should fail with a connection refusal, while the second <code>curl</code> succeeds.  This is because <code>nginx</code> listens on port 80 by default. Let&#x27;s delete the Deployment, change the exposed port to 80, and redeploy.</p><pre><code class="language-bash">kubectl -n accounting delete deployment nginx-one
vim nginx-one.yaml
kubectl create -f nginx-one.yaml
</code></pre><h3 id="lab-92---configure-a-nodeport">Lab 9.2 - Configure a NodePort</h3><p>Previously we deployed a LoadBalancer. This time we will deploy a NodePort instead using the <code>expose</code> command.  NodePorts NAT traffic from outside the cluster. One reason to use a NodePort is to avoid having to use a cloud providers load balancer when deploying one in Kubernetes.</p><p>Deploy the NodePort and then describe the services.</p><pre><code class="language-bash">kubectl -n accounting expose deployment nginx-one --type=NodePort --name=service-lab
kubectl -n accounting describe services
</code></pre><p>Find the port number that the NodePort exposed with the <code>service-lab</code> service thst was printed out in the <code>describe</code>. Then find the cluster hostname or IP address. It should be the first line of this command.</p><pre><code class="language-bash">kubectl cluster-info
</code></pre><p>Then you should be able to <code>curl</code> the endpoint made up of the hostname/IP and the NodePort port number. Also try in your browser to reach the NodePort by using the public IP of the node you SSH into and the port number.</p><h3 id="lab-93---working-with-coredns">Lab 9.3 - Working with CoreDNS</h3></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/fundamentals/chapter09.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/cka-prep/docs/fundamentals/chapter08"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Volumes and Data</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/cka-prep/docs/fundamentals/chapter10"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Helm</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#course-reading" class="table-of-contents__link toc-highlight">Course Reading</a><ul><li><a href="#learning-objectives" class="table-of-contents__link toc-highlight">Learning objectives</a></li><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#service-update-pattern" class="table-of-contents__link toc-highlight">Service update pattern</a></li><li><a href="#accessing-an-application-with-a-service" class="table-of-contents__link toc-highlight">Accessing an application with a service</a></li><li><a href="#types-of-services" class="table-of-contents__link toc-highlight">Types of services</a></li><li><a href="#services-diagram" class="table-of-contents__link toc-highlight">Services diagram</a></li><li><a href="#overall-network-view" class="table-of-contents__link toc-highlight">Overall network view</a></li><li><a href="#local-proxy-for-development" class="table-of-contents__link toc-highlight">Local proxy for development</a></li><li><a href="#dns" class="table-of-contents__link toc-highlight">DNS</a></li><li><a href="#verifying-dns-registration" class="table-of-contents__link toc-highlight">Verifying DNS registration</a></li></ul></li><li><a href="#lab-exercises" class="table-of-contents__link toc-highlight">Lab Exercises</a><ul><li><a href="#lab-91---deploy-a-new-service" class="table-of-contents__link toc-highlight">Lab 9.1 - Deploy a new Service</a></li><li><a href="#lab-92---configure-a-nodeport" class="table-of-contents__link toc-highlight">Lab 9.2 - Configure a NodePort</a></li><li><a href="#lab-93---working-with-coredns" class="table-of-contents__link toc-highlight">Lab 9.3 - Working with CoreDNS</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cka-prep/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/andrewdaoust/cka-prep" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Andrew D'Aoust. Built with Docusaurus.</div></div></div></footer></div>
<script src="/cka-prep/assets/js/runtime~main.ac12d81b.js"></script>
<script src="/cka-prep/assets/js/main.d9dff869.js"></script>
</body>
</html>